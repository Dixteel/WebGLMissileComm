<template>
  <section hidden.bind="!userService.player.name" class="lobby">
    <div style="display:flex; background:#336699; color:#EEE; padding:1rem">
      <span>Lobby</span>
      <span style="flex:1; text-align:right">
        Welcome ${userService.player.name}
        &nbsp; &nbsp; &nbsp;
        <span class="button">Leave</span>
      </span>
    </div>

    <div style="padding: 1rem">
      <span class="button" click.trigger="start()">
        ${ready === 0? 'Start' : 'Waiting for others'}
      </span>
    </div>

    <div style="display:flex; width=40rem; padding-right:1rem; padding-left:1rem">
      <div style="width:40rem">
        <div class="lobby-log">
          <div repeat.for="msg of messageList">
            ${msg.player} : ${msg.msg}
          </div>
        </div>
        <input type="text" class="lobby-msgbox" value.bind="msg"/>
        <span class="button" click.trigger="sendMessage()">Send</span>
      </div>
      <div style="width:2rem"></div>
      <div class="lobby-players-list">
        <div repeat.for="player of userService.players">${player.name} -- ${player.ready === 0? 'waiting':'ready'}</div>
      </div>
    </div>
  </section>
</template>
